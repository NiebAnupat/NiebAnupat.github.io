(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{226:function(t,e,n){var content=n(300);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("48517564",content,!0,{sourceMap:!1})},240:function(t,e,n){"use strict";var r={},o=n(80),c=n(114),f=n.n(c),d=n(357),l=n(363),v=n(358),h=n(364),m=n(359),x=n(360),_=n(351),w=n(361),k=n(362),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:""}},[n("v-icon",{attrs:{size:"45"}},[t._v("mdi-playlist-check")]),t._v(" "),n("v-app-bar-title",{staticClass:"headline ml-2"},[t._v("Todo Web App")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"subtitle-1 pa-3 py-6 white--text",attrs:{small:"",color:"secondary"}},[n("v-icon",{staticClass:"mr-3"},[t._v("mdi-exit-run")]),t._v("\n      ออกจากระบบ\n    ")],1)],1),t._v(" "),n("v-main",[n("v-container",{staticClass:"mt-4"},[n("Nuxt")],1)],1),t._v(" "),n("v-footer")],1)}),[],!1,null,"92c29474",null);e.a=component.exports;f()(component,{VApp:d.a,VAppBar:l.a,VAppBarTitle:v.a,VBtn:h.a,VContainer:m.a,VFooter:x.a,VIcon:_.a,VMain:w.a,VSpacer:k.a})},250:function(t,e,n){n(251),t.exports=n(252)},299:function(t,e,n){"use strict";n(226)},300:function(t,e,n){var r=n(31)(!1);r.push([t.i,"h1[data-v-6ffeedc3]{font-size:20px}",""]),t.exports=r},347:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return r})),n.d(e,"getters",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"actions",(function(){return f}));var r=function(){return{}},o={},c={ON_AUTH_STATE_CHANGED_MUTATION:function(t){}},f={onAuthStateChangedAction:function(t){}}},348:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"getters",(function(){return c})),n.d(e,"mutations",(function(){return f})),n.d(e,"actions",(function(){return d}));var r=n(9),o=(n(53),n(16),n(5),n(224),n(17),n(48),function(){return{list:[]}}),c={doneTodos:function(t){return t.list.filter((function(t){return t.status}))},doneTodosCount:function(t,e){return e.doneTodos.length},getTodos:function(t){return t.list},getLastTask:function(t){return t.list[t.list.length-1]}},f={add:function(t,e){t.list.push({id:String(t.list.length+1),title:e.title,status:!1}),console.log("task added")},remove:function(t,e){t.list.splice(t.list.indexOf(e),1)},toggle:function(t,e){e.status=!e.status},setTodos:function(t,e){t.list=e}},d={add:function(t,e){return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,t.dispatch,n.next=3,r("add",e);case 3:case"end":return n.stop()}}),n)})))()},remove:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,f,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.commit,c=t.rootGetters,r.next=3,c["users/getUser"];case 3:return f=r.sent,d=f.uid,r.next=7,n.$fire.firestore.collection("users").doc(d).collection("todos").where("id","==",e.id).get().then((function(t){t.forEach((function(t){t.ref.delete()})),o("remove",e),console.log("task removed")})).catch((function(t){throw t}));case 7:case"end":return r.stop()}}),r)})))()},toggle:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,f,d,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.commit,c=t.dispatch,f=t.rootGetters,r.next=3,f["users/getUser"];case 3:return d=r.sent,l=d.uid,r.next=7,n.$fire.firestore.collection("users").doc(l).collection("todos").where("id","==",e.id).get().then((function(t){t.forEach((function(t){t.ref.update({status:!e.status})})),o("toggle",e),console.log("task toggled status!"),c("fetchTodos")})).catch((function(t){throw t}));case 7:case"end":return r.stop()}}),r)})))()},saveTask:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c,f,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.getters,o=t.rootGetters,console.log("saving task to database...."),n.next=4,r.getLastTask;case 4:return c=n.sent,n.next=7,o["users/getUser"];case 7:return f=n.sent,d=f.uid,n.next=11,e.$fire.firestore.collection("users").doc(d).collection("todos").add(c).then((function(){console.log("task saved")})).catch((function(t){throw t}));case 11:case"end":return n.stop()}}),n)})))()},fetchTodos:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c,f,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,o=t.rootGetters,n.next=3,o["users/getUser"];case 3:return c=n.sent,f=c.uid,n.next=7,e.$fire.firestore.collection("users").doc(f).collection("todos").orderBy("status","asc").get().then((function(t){return t.docs.map((function(t){return t.data()}))})).catch((function(t){throw t}));case 7:return d=n.sent,n.next=10,r("setTodos",d);case 10:console.log("todos fetched");case 11:case"end":return n.stop()}}),n)})))()}}},70:function(t,e,n){"use strict";var r={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(n(299),n(80)),c=n(114),f=n.n(c),d=n(357),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[404===t.error.statusCode?n("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):n("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),n("NuxtLink",{attrs:{to:"/"}},[t._v(" Home page ")])],1)}),[],!1,null,"6ffeedc3",null);e.a=component.exports;f()(component,{VApp:d.a})}},[[250,13,6,14]]]);